(this["webpackJsonpavito-photo-js"]=this["webpackJsonpavito-photo-js"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n.n(a),s=n(9),o=n.n(s),i=(n(15),n(2)),l=n(3),u=n.n(l),j=n(7),d=n(5),b=n(6),m=n(4),O=(n(17),function(e){var t=e.onClick,n=e.value,a=Object(m.a)(e,["onClick","value"]);return Object(c.jsx)("button",Object(i.a)(Object(i.a)({onClick:t,className:"Button-base"},a),{},{children:n}))}),p="display",f="edit",h="name",v="comment",x=(n(18),function(e){var t=e.mode,n=e.id,a=void 0===n?"":n,r=e.url,s=void 0===r?"":r,o=e.onClick,l=e.className,u=void 0===l?"":l,j=Object(m.a)(e,["mode","id","url","onClick","className"]);return Object(c.jsx)("img",Object(i.a)(Object(i.a)({className:"Card-image ".concat(u),"data-id":a,src:s},t===f?o={onClick:o}:""),j))}),g=(n(19),function(e){var t=e.children,n=e.onClose,a=e.forwardRef;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"modal-background",onClick:n}),Object(c.jsx)("div",{ref:a,className:"modal",children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsx)("div",{className:"modal-cross",onClick:n}),t]})})]})}),N=Object(a.forwardRef)((function(e,t){var n=e.children,a=Object(m.a)(e,["children"]);return Object(c.jsx)(g,Object(i.a)(Object(i.a)({forwardRef:t},a),{},{children:n}))})),k=(n(20),function(e){var t=e.placeholder,n=e.onChange,a=e.type,r=e.isRequired,s=Object(m.a)(e,["placeholder","onChange","type","isRequired"]);return Object(c.jsx)("input",Object(i.a)({type:a,onChange:n,placeholder:t,className:"input",required:r?"required":""},s))}),w=(n(21),function(){var e,t="https://boiling-refuge-66454.herokuapp.com/images",n=Object(a.useState)([]),r=Object(b.a)(n,2),s=r[0],o=r[1],l=Object(a.useState)(!0),m=Object(b.a)(l,2),g=m[0],w=m[1],y=Object(a.useState)({}),C=Object(b.a)(y,2),S=C[0],D=C[1],T=Object(a.useState)(!1),A=Object(b.a)(T,2),R=A[0],E=A[1],q=Object(a.useState)(""),F=Object(b.a)(q,2),J=(F[0],F[1]),P=Object(a.useState)(""),B=Object(b.a)(P,2),G=(B[0],B[1]),I=Object(a.useRef)(null),M=Object(a.useState)((e={},Object(d.a)(e,v,""),Object(d.a)(e,h,""),e)),Y=Object(b.a)(M,2),z=Y[0],H=Y[1];Object(a.useEffect)((function(){L()}),[]);var K,L=function(){var e=Object(j.a)(u.a.mark((function e(){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"GET"});case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,o(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:return e.prev=13,w(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=parseInt(t.target.dataset.id,10),e.next=3,U(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(j.a)(u.a.mark((function e(n){var c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(t,"/").concat(n),{method:"GET"});case 3:return c=e.sent,e.next=6,c.json();case 6:a=e.sent,D(a),E(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:return e.prev=14,w(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(t){return e.apply(this,arguments)}}(),V=function(e,t){console.log(e.target.value,t),H(Object(i.a)(Object(i.a)({},z),{},Object(d.a)({},t,e.target.value)))},W=function(e){var t=new Date(e).getDate()<10?"0".concat(new Date(e).getDate()):new Date(e).getDate(),n=new Date(e).getMonth()+1,c=n<10?"0".concat(n):n,a=new Date(e).getFullYear();return"".concat(t,".").concat(c,".").concat(a)},X=function(){var e=Object(j.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t,"/").concat(S.id,"/comments"),{method:"POST",body:JSON.stringify({name:z[h],comment:z[v]})});case 2:n=e.sent,console.log(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return g?null:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("h1",{className:"App-title",children:"TEST APP"}),Object(c.jsx)("main",{className:"App-content",children:(K=s,K.map((function(e){var t=e.id,n=e.url;return Object(c.jsx)(x,{mode:f,id:t,url:n,onClick:Q},t)})))}),R&&Object(c.jsx)(N,{ref:I,onClose:function(){var e;E(!1),G(""),J(""),H((e={},Object(d.a)(e,h,""),Object(d.a)(e,v,""),e))},children:Object(c.jsxs)("div",{className:"modal-form",children:[Object(c.jsxs)("div",{className:"modal-inner",children:[Object(c.jsx)("div",{className:"left-side",children:Object(c.jsx)(x,{mode:p,id:S.id,url:S.url,className:"modal-image"})}),Object(c.jsx)("div",{className:"right-side",children:S.comments.map((function(e){return function(e){var t=e.key,n=e.date,a=e.comment;return Object(c.jsxs)("div",{className:"comment-content",children:[Object(c.jsx)("span",{className:"comment-date",children:W(n)}),Object(c.jsx)("span",{className:"comment",children:a})]},t)}({key:e.id,date:e.date,comment:e.text})}))})]}),Object(c.jsxs)("div",{className:"left-side",children:[Object(c.jsx)(k,{type:"text",placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",onChange:function(e){return V(e,h)},style:{marginTop:"30px"}}),Object(c.jsx)(k,{type:"text",placeholder:"\u0412\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",onChange:function(e){return V(e,v)},style:{marginTop:"20px"}}),Object(c.jsx)(O,{value:"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",onClick:X,style:{marginTop:"20px"},disabled:!z[h].length&&!z[v].length})]})]})}),Object(c.jsx)("footer",{className:"App-footer",children:Object(c.jsxs)("h5",{className:"App-footer-title",children:["\xa9 2018-",(new Date).getFullYear()]})})]})});o.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(w,{})}),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.edc9efba.chunk.js.map